<div class="ui-g">
    <div class="ui-g-12">
        <h3>Details</h3>
        <p-tabView (onChange)="handleChange($event)">

            <p-tabPanel header="Info ||" id="info">
              <form #tfForm="ngForm" (ngSubmit)="onSubmit(tfForm.value)">
                  <p-panel header="Basic Information">
                    <div class="body">
                        <div class="ui-grid-row">
                            <div class="md-inputfield ui-g-12 ui-md-6">
                                <input type="text" pInputText name="name" [(ngModel)]="testRequestDetails.name"
                                       minlength="3"  required style="width:100%">
                                <label>Test Name <span >*</span></label>
                            </div>
                            <div class="md-inputfield ui-g-12 ui-md-6">
                                <input type="text" pInputText name="number" [(ngModel)]="testRequestDetails.number" style="width:100%">
                                <label>Test Number</label>
                            </div>
                        </div>
                        <div class="ui-grid-row ">
                          <div class="ui-g-12 ui-md-6">
                              <p style="color:#777">Project Code :</p>
                              <p-dropdown   [style]="{'width':'100%','color':'#777'}" [options]="projectCodes" [(ngModel)]="testRequestDetails.projectId" (onChange)="onProjectCodeChange($event)" name="projectCodes" >
                              </p-dropdown>
                          </div>
                          <div class="ui-g-12 ui-md-6">
                              <p style="color:#777">Build Levels :</p>
                              <p-dropdown [style]="{'width':'100%','color':'#777'}" [options]="buildLevels" [(ngModel)]="testRequestDetails.buildLevelId" (onChange)="onBuildLevelChange($event)" name="buildLevels">
                              </p-dropdown>
                          </div>
                        </div>
                        <div class="ui-grid-row ">
                          <div class="ui-g-12 ui-md-6">
                              <p style="color:#777">Vehicle :</p>
                              <p-dropdown   [style]="{'width':'100%','color':'#777'}" [options]="vehicle" [(ngModel)]="vehicle" (onChange)="onvehicleChange($event)" name="vehicle" >
                              </p-dropdown>
                          </div>
                          <div class="ui-g-12 ui-md-6">
                              <p style="color:#777">Test Facility :</p>
                              <p-dropdown   [style]="{'width':'100%','color':'#777'}" [options]="testFacilities" [(ngModel)]="testFacilities" (onChange)="onTestFacilityChange($event)" name="testFacilities" >
                              </p-dropdown>
                          </div>
                        </div><br /><br />
                        <div class="ui-grid-row">
                            <div class="md-inputfield ui-g-12 ui-md-6">
                                <input type="text" pInputText name="purpose" [(ngModel)]="testRequestDetails.purpose" style="width:100%">
                                <label>Purpose</label>
                            </div>
                            <div class="ui-g-12 ui-md-6 md-inputfield">
                              <p-calendar [(ngModel)]="testRequestDetails.dueDate" name="dueDate" showTime="true" [showIcon]="true"></p-calendar>
                              <label>Due Date :</label>
                            </div>
                        </div><br /><br />
                        <div class="ui-grid-row " style="color:#777">
                            <div class="ui-g-12 ui-md-6 md-inputfield">
                              <p-calendar [(ngModel)]="testRequestDetails.plannedStartDate" name="plannedStartDate" showTime="true" [showIcon]="true"></p-calendar>
                              <label>Planned Start Date :</label>
                            </div>
                            <div class="ui-g-12 ui-md-6 md-inputfield">
                              <p-calendar [(ngModel)]="testRequestDetails.plannedEndDate" name="plannedEndDate" showTime="true" [showIcon]="true" ></p-calendar>
                              <label>Planned End Date :</label>
                            </div>
                        </div>
                        <div class="ui-grid-row ">
                          <div class="ui-g-12 ui-md-6">
                              <p style="color:#777">Test Templates :</p>
                              <p-multiSelect   [style]="{'width':'100%','color':'#777'}" [options]="testTemplates" [(ngModel)]="testtemplates" (onChange)="getTestTemplates($event)" name="testTemplates" >
                              </p-multiSelect>
                          </div>
                          <div class="ui-g-12 ui-md-6">
                              <p style="color:#777">Test Procedures :</p>
                              <p-multiSelect   [style]="{'width':'100%','color':'#777'}" [options]="testProcedures" [(ngModel)]="testProcedures" (onChange)="onTestProceduresChange($event)" name="testProcedures" >
                              </p-multiSelect>
                          </div>
                        </div><br /><br />
                        <div class="ui-grid-row " style="color:#777">
                            <div class="ui-g-12 ui-md-6" >
                                <p-checkbox name="groupname" value="IsThermoCouple" label="Does this Test require Sensor Type?" [(ngModel)]="IsThermoCouple" binary="true" (onChange)="confirm1()">
                                </p-checkbox>
                            </div>
                            <div class="ui-g-12 ui-md-6" >
                                <p-checkbox name="groupname" value="PartsList" label="Does this Test require Parts Type?" [(ngModel)]="PartsList" binary="true" (onChange)="confirm1()">
                                </p-checkbox>
                            </div>
                        </div><br /><br />
                        <div class="ui-grid-row " >
                            <div class="ui-g-12 ui-md-12" >
                              <label style="color:#777">Description</label>
                            </div>
                            <div class="ui-g-12 ui-md-12 md-inputfield">
                                <p-editor [(ngModel)]="description" name="description" [style]="{'min-height':'160px'}" placeholder="Max 500 characters. ">
                                    <header>
                                        <select class="ql-size">
                                            <option value="small"></option>

                                            <option selected></option>
                                            <option value="large"></option>
                                            <option value="huge"></option>
                                        </select>
                                        <span class="ql-formats">
                                            <button class="ql-bold"></button>
                                            <button class="ql-italic"></button>
                                            <button class="ql-underline"></button>
                                        </span>
                                    </header>
                                </p-editor>
                            </div>
                        </div>
                    </div>
                    <footer>
                        <button id="create" pButton type="submit" icon="ui-icon-save" label="Create" [disabled]="!tfForm.valid" (click)="onTestRequestSubmit()"></button>
                    </footer>
                  </p-panel>
              </form>

            </p-tabPanel>

            <p-tabPanel header="AddTimeEntry ||" id="timeentry">
                <p-messages [value]="msgs" [closable]="true"></p-messages>
                <div class="panel panel-default">
                    <div class="panel-heading">Hour Tracking</div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <form #tfForm="ngForm" (ngSubmit)="onSubmit(tfForm.value)">
                                            <div class="row">

                                                <div class="form-group col-sm-6 col-md-4">
                                                    <label class="control-label">
                                                        Test
                                                        Step
                                                    </label>
                                                    <select name="" id=""
                                                            class="form-control">
                                                        <option value=""
                                                                selected="selected">
                                                            ---- Select ----
                                                        </option>
                                                        <option value="">
                                                            Front
                                                            Suspension
                                                        </option>
                                                        <option value="">
                                                            Rear
                                                            Suspension
                                                        </option>
                                                        <option value="">
                                                            Spring
                                                        </option>
                                                        <option value="">
                                                            Front
                                                            Axle
                                                        </option>
                                                        <option value="">
                                                            Rear
                                                            Axle
                                                        </option>
                                                        <option value="">
                                                            Wheel
                                                        </option>
                                                        <option value="">
                                                            Chasis
                                                            mount
                                                        </option>
                                                        <option value="">
                                                            Stabi
                                                            Bar
                                                        </option>
                                                        <option value="">
                                                            Mount
                                                        </option>
                                                        <option value="">
                                                            Steering
                                                        </option>
                                                        <option value="">
                                                            Ground
                                                            Contact
                                                        </option>
                                                        <option value="">
                                                            Tailgate
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-sm-6 col-md-4">
                                                    <label class="control-label">
                                                        Test
                                                        Stage
                                                    </label>
                                                    <p-dropdown [options]="testStages" (onChange)="onTestStageChange($event)" name="testStage" [style]="{'width':'150px'}">

                                                    </p-dropdown>
                                                </div>
                                                <div class="form-group col-sm-6 col-md-4">
                                                    <label class="control-label">
                                                        Activity
                                                    </label>
                                                    <p-dropdown [options]="hourEntries" (onChange)="onHourEntryChange($event)" name="hourEntry" [style]="{'width':'150px'}">

                                                    </p-dropdown>
                                                </div>
                                                <div class="form-group col-sm-6 col-md-4">
                                                    <label class="control-label">
                                                        Down Time
                                                    </label>
                                                    <p-dropdown [options]="downTimeReasons" (onChange)="onDownTimeReasonChange($event)" name="downTimeReason" [style]="{'width':'150px'}">

                                                    </p-dropdown>
                                                </div>
                                                <div class="form-group col-sm-6 col-md-4">
                                                    <label class="control-label">
                                                        Estimate Duration
                                                    </label>
                                                    <p-calendar [(ngModel)]="estimateDuration" name="estimateDuration" [timeOnly]="true"></p-calendar>
                                                </div>
                                                <div class="form-group col-sm-6 col-md-4">
                                                    <label class="control-label">
                                                        Actual   End Time
                                                    </label>
                                                    <p-calendar id="endTime" [(ngModel)]="endTime" name="endTime" showTime="true" hourFormat="24"></p-calendar>
                                                    <!--<p-calendar [(ngModel)]="endTime" name="endTime" [showTime]="true" [showIcon]="true" icon="fa-calendar"></p-calendar>-->
                                                </div>
                                                <div class="form-group col-sm-6 col-md-4">
                                                    <label class="control-label">
                                                        Actual    Start Time
                                                    </label>
                                                    <p-calendar [(ngModel)]="startTime" name="startTime" showTime="showTime" [showIcon]="true"></p-calendar>
                                                    <!--<div class="input-group">
                                                    <input type="text"
                                                           class="form-control"
                                                           placeholder="mm/dd/yyyy"
                                                           id="TestStartDate">
                                                    <span class="input-group-addon">
                                                        <i class="glyphicon glyphicon-calendar"></i>
                                                    </span>
                                                </div>-->
                                                </div>
                                                <div class="form-group col-sm-12 col-md-8">
                                                    <label class="control-label col-sm-12 pl0 mb15">Notes</label><br />
                                                    <!--<textarea rows="4" cols="170" name="notes" class="form-control" placeholder="Notes"></textarea>-->
                                                    <div id="editor-container"></div>
                                                </div>

                                            </div>
                                            <div class="form-group col-sm-6 col-md-4">
                                                <div class="ui-grid-col-2"></div>
                                                <div class="ui-grid-col-2">
                                                    <button pButton type="submit" [disabled]="!tfForm.valid" label="Save" icon="ui-icon-edit" iconPos="left"></button>
                                                </div>
                                                <div class="ui-grid-col-4">

                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="panel panel-default">
                                            <div class="panel-heading"><strong>Tracking List</strong></div>


                                            <div class="panel-body">

                                                <div class="row">
                                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                                        <div class="table-responsive" style="min-height:400px;">
                                                            <!--<div ui-grid="vm.gridOptions" ui-grid-pagination ui-grid-auto-resize
                                                        class="grid"></div>-->
                                                            <p-dataTable [value]="TrackingList" [paginator]="true" rows="15" [responsive]="true">
                                                                <p-column header="Date" field="startDate" sortable="true"></p-column>
                                                                <p-column header="TestStage" field="testStageName" sortable="true"></p-column>
                                                                <p-column header="Estimate Time" field="estimateDuration" sortable="true"></p-column>
                                                                <p-column header="Actual Time" field="actualDuration" sortable="true"></p-column>
                                                                <p-column header="Downtime" field="downTimeReason" sortable="true"></p-column>
                                                                <p-column header="Notes" field="description" sortable="true"></p-column>

                                                            </p-dataTable>
                                                        </div>
                                                    </div>


                                                </div>




                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </p-tabPanel>

            <p-tabPanel header="Thermo Couple ||" id="timeentry">
                <div class="panel panel-default">
                    <div class="panel-heading">Sensor Info</div>
                    <div class="panel-body">
                        <div class="row">

                                <!--<div class="ui-g-12">
                                    <div class="card card-w-title">
                                        <h1> Sensor Information </h1>-->
                                        <div class="ui-grid-row">
                                            <!--<a routerLink="add/{{id}}"><i class="fa ui-icon-add"></i>Add New Sensor Request</a>-->
                                            <!--<a routerLink="edit/A70B5ABE-10AE-4D65-8667-F8ACECCF9987"><i class="fa ui-icon-edit"></i>Edit Test Facility</a>-->
                                            <div class="row">
                                                <div class="col-md-12 col-sm-12 col-xs-12">
                                                    <div class="table-responsive" style="min-height:400px;">
                                                        <p-dataTable [value]="sensorRequests" [paginator]="true" rows="15" [responsive]="true">
                                                            <p-column header="Sensor Name" field="name" sortable="true"></p-column>


                                                            <p-column header="Comments" field="comment" sortable="true"></p-column>
                                                            <p-column>
                                                                <template pTemplate type="header">
                                                                    <button type="button" pButton icon="fa-refresh"></button>
                                                                </template>
                                                                <template let-sensorrow="rowData" pTemplate type="body">
                                                                    <a routerLink="details/{{sensorrow.id}}/{{entityId}}"><i class="fa ui-icon-edit"></i>Edit</a>
                                                                </template>
                                                            </p-column>

                                                        </p-dataTable>
                                                    </div>
                                                </div>


                                            </div>
                                            <!--<grid-data [gridData]="gridData"
                                               [cols]='cols'
                                               [confInfo]="confInfo"
                                               [dataService]="service"
                                               (navigateToDetails)="navigateDetails($event)"
                                               [title]="title"></grid-data>-->
                                        </div>
                                    <!--</div>


                            </div>-->
                            </div></div></div>
            </p-tabPanel>
        </p-tabView>
</div>
</div>
