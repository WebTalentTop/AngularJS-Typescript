<div class="ui-g">
    <div class="ui-g-12">
  
                <h3> User Details</h3>
       
            <p-growl [value]="msgs"></p-growl>
            <div class="subsection">

                <form #tfForm="ngForm" (ngSubmit)="onSubmit(tfForm.value)">

                    <!-- Begin Panel - Test Facility Name and Location -->

                    <p-panel header="Information">

                        <div class="body">

                            <!-- Begin Name -->

                            <div class="input-row">

                            
                                <div class="md-inputfield">
                                    <input type="text" pInputText name="firstName" [(ngModel)]="userProfile.firstName"
                                           minlength="3" class="form-control" required row="20">
                                    <label>First Name </label>
                                </div>

                                <!--<p class="helper error" *ngIf="firstNameRef.errors?.required || firstNameRef.errors?.minlength">At least three characters</p>-->

                            </div>

                            <!-- End Name -->
                            <!-- Begin Address Line 1 -->

                            <div class="input-row md-spaced">

                                <div class="md-inputfield">
                                    <input type="text" pInputText name="lastName" class="form-control" required row="20" [(ngModel)]="userProfile.firstName">
                                    <label>Last Name </label>
                                </div>

                                <!--<p class="helper hint" *ngIf="lastNameRef.focus">For example, 123 Main Street</p>
                                <p class="helper error" *ngIf="lastNameRef.errors?.required && !lastNameRef.focus">Required</p>-->

                            </div>

                            <!-- End Address Line 1 -->
                            <!-- Begin Address Line 2 -->

                            <div class="input-row md-spaced">

                                <div class="md-inputfield">
                                    <p-dropdown [options]="departments" (onChange)="onDepartmentChange($event)" [(ngModel)]="userProfile.departmentId" name="departments" [autoWidth]="false"></p-dropdown>

                                    <label>Department</label>
                                </div>

                             
                            </div>

                            <!-- End Address Line 2 -->
                            <!-- Begin City -->

                            <div class="input-row md-spaced">

                                <div class="md-inputfield">
                                    <input type="text" pInputText class="form-control" required row="20" name="emailAddress" [(ngModel)]="userProfile.emailAddress"
                                         >
                                    <label>Email Address </label>
                                </div>                           
                            </div>

                            <!-- End City -->
                            <!-- Begin State -->

                            <div class="input-row md-spaced">

                                <div class="md-inputfield">
                                    <input type="text" pInputText class="form-control" required row="20" name="phoneNumber" [(ngModel)]="userProfile.firstName">
                                    <label>Phone Number</label>
                                </div>

                                
                            </div>

                            <!-- End State -->
                            <!-- Begin Postal Code -->

                            <div class="input-row md-spaced">

                                <div class="md-inputfield">
                                    <p-dropdown [options]="titanRoles" (onChange)="onTitanRoleChange($event)"  name="titanRoles" [autoWidth]="false"></p-dropdown>

                                    <label>Role </label>
                                </div>                             
                            </div>

                            <!-- End Postal Code -->
                            <!-- Begin Operation Hours -->

                            <div class="input-row md-spaced">

                                <div class="md-inputfield">
                                    <p-dropdown [options]="timeZones" (onChange)="onTimeZoneChange($event)" [(ngModel)]="userProfile.defaultTimeZoneId" name="timeZones" [autoWidth]="false"></p-dropdown>

                                    <label>Time Zone</label>
                                </div>

                            </div>


                        </div>

                        <footer>
                            <p>* indicates required field</p>
                            <button pButton type="submit" [disabled]="!tfForm.valid" label="Save" icon="ui-icon-save"></button>
                        </footer>

                    </p-panel>

                    <!-- End Panel - Test Facility Name and Location -->

                </form>

            </div>


        <div class="subsection">

            <form>

                <!-- Begin Dialog - Assign User Role -->

                <p-dialog header="Assign Function Group" [(visible)]="displayFunctionGroupDialog" modal="modal" showEffect="fade" responsive="true">

                    <p>Please select function groups or tenants.</p>

                    <!-- Begin Users -->
                   

                    <div class="input-row">

                        <label>
                            <span class="text">Function Group</span>

                            <p-dropdown [options]="functionGroups" (onChange)="onFunctionGroupChange($event)" name="functionGroups" [autoWidth]="false"></p-dropdown>

                        </label>

                    </div>

                    <!-- End Users -->
                    <!-- Begin Role -->

                    <div class="input-row">

                        <!-- Note: p-dropdown includes a "label" element, so it should not be wrapped in another one. -->
                        <span class="pseudo-label">Tenants</span>

                        <!--<p-dropdown [options]="userRoles" (onChange)="onUserRoleChange($event)" name="userRole" [autoWidth]="false"></p-dropdown>-->

                    </div>

                    <!-- End Role -->

                    <footer>
                        <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                            <label class="checkbox"><input type="checkbox"> Keep Open</label>
                            <button type="button" pButton icon="ui-icon-close" (click)="displayFunctionGroupDialog=false" label="Cancel"></button>
                            <button type="button" pButton icon="ui-icon-save" (click)="onAddFunctionGroup()" label="Assign Function Group"></button>
                        </div>
                    </footer>

                </p-dialog>

                <!-- End Dialog - Assign User Role -->
                <!-- Begin Panel - Test Facility Users -->

                <p-panel>

                    <header class="with-controls">
                        <p class="ui-panel-title"> Function Groups </p>
                        <p class="controls"><button type="text" (click)="displayFunctionGroupDialog=true" pButton icon="ui-icon-person-add" label="Assign Function Group&hellip;"></button></p>
                    </header>

                    <div class="ui-grid-row">

                        <p-dataTable [value]="userFunctionGroups" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]">
                            <p-column field="functionGroupName" header="Function Group Name" sortable="true" [filter]="true" filterPlaceholder="Search"></p-column>
                            <!--<p-column field="role" header="Role" sortable="true" [filter]="true" filterPlaceholder="Search"></p-column>-->
                            <p-column header="Action">
                                <template let-FunctionGroup="rowData" pTemplate type="body">
                                    <button pButton type="button" icon="ui-icon-remove-circle" (click)="onRemoveFunctionGroupMap(FunctionGroup)" label="Delete"></button>
                                </template>
                            </p-column>
                        </p-dataTable>

                    </div>

                </p-panel>

                <!-- End Panel - Test Facility Users -->

            </form>

        </div>



</div>
</div>
